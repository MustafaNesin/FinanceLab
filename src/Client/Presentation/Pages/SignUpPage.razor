@page "/SignUp"
@inherits BasePage
@attribute [AllowAnonymous]

<PageTitle>@L["SignUp"] | FinanceLab</PageTitle>
<MudContainer MaxWidth="@MaxWidth.Small">
    <MudCard Class="mx-auto">
        <MudCardHeader>
            <MudText Typo="@Typo.h6">@L["SignUp"]</MudText>
        </MudCardHeader>
        <MudCardContent>
            <MudForm @ref="@_form" Model="@_input">
                <MudTextField @bind-Value="@_input.FirstName"
                              Validation="@_validator.ValidatePropertyAsync"
                              For="@(() => _input.FirstName)"
                              Label="@L["FirstName"]"/>
                <MudTextField @bind-Value="@_input.LastName"
                              Validation="@_validator.ValidatePropertyAsync"
                              For="@(() => _input.LastName)"
                              Label="@L["LastName"]"/>
                <MudTextField @bind-Value="@_input.UserName"
                              Validation="@_validator.ValidatePropertyAsync"
                              For="@(() => _input.UserName)"
                              Label="@L["UserName"]"/>
                <MudTextField @bind-Value="@_input.Password"
                              Validation="@_validator.ValidatePropertyAsync"
                              For="@(() => _input.Password)"
                              Label="@L["Password"]"
                              HelperText="@L["ChoosePassword"]"
                              InputType="@InputType.Password"/>
                <MudTextField @bind-Value="@_input.PasswordRepeat"
                              Validation="@_validator.ValidatePropertyAsync"
                              For="@(() => _input.PasswordRepeat)"
                              Label="@L["PasswordRepeat"]"
                              HelperText="@L["RepeatPassword"]"
                              InputType="@InputType.Password"/>
                <MudSelect @bind-Value="@_input.GameDifficulty"
                           Validation="@_validator.ValidatePropertyAsync"
                           For="@(() => _input.GameDifficulty)"
                           Label="@L["GameDifficulty"]"
                           HelperText="@L["SelectGameDifficulty"]">
                    <MudSelectItem Value="@GameDifficulty.Sandbox">
                        @L["Sandbox"]
                    </MudSelectItem>
                    <MudSelectItem Value="@GameDifficulty.Easy">
                        @L["Easy"]
                    </MudSelectItem>
                    <MudSelectItem Value="@GameDifficulty.Normal">
                        @L["Normal"]
                    </MudSelectItem>
                    <MudSelectItem Value="@GameDifficulty.Hard">
                        @L["Hard"]
                    </MudSelectItem>
                </MudSelect>
            </MudForm>
        </MudCardContent>
        <MudCardActions>
            <MudLink Href="/SignIn" Typo="@Typo.body2">
                @L["HaveAccount"]
            </MudLink>
            <MudSpacer/>
            <MudButton Variant="@Variant.Filled"
                       Color="@Color.Primary"
                       Class="ml-auto"
                       Disabled="@_isSubmitDisabled"
                       OnClick="@SubmitAsync">
                @L["Submit"]
            </MudButton>
        </MudCardActions>
    </MudCard>
</MudContainer>